%
% LICENSE
% You are free to:
%    * Share — copy and redistribute the material in any medium or format
%    * Adapt — remix, transform, and build upon the material
%    * The licensor cannot revoke these freedoms as long as you follow the license terms.
%
% Under the following terms:
%    * Attribution — You must give appropriate credit, provide a link to the license, and indicate if changes were made.
%		  You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.
%    * NonCommercial — You may not use the material for commercial purposes.
%    * ShareAlike — If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.
%    * No additional restrictions — You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.
% 
% more details: http://creativecommons.org/licenses/by-nc-sa/4.0/
%
% authors:	Fabian Gilson
%			Nicolas Genon
%
% main tex file
%

\documentclass[openright,twoside]{memoir}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{calc,soul,fourier}
\usepackage[table]{xcolor}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{color}
\usepackage{colortbl}
\usepackage{array}
\usepackage{pdflscape}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}

\usepackage[pdftex]{graphicx}
\newsubfloat{figure} % Allow subfloats in figure environment

\usepackage{tikz}
\usetikzlibrary{arrows,automata}

\usepackage[linesnumbered]{algorithm2e}

\usepackage{url}
%\usepackage{fixltx2e}
\usepackage[fleqn]{mathtools}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{epigraph}
%\usepackage{minitoc}
\usepackage{titletoc}
\usepackage{microtype}


%\usepackage{natbib}
\usepackage{cite}
\usepackage{bibentry} \nobibliography* % Allows to print bibtex entries in text

\usepackage{paralist}
\usepackage{enumitem}

\usepackage{longtable}
\usepackage{url}
\usepackage{anyfontsize}
\usepackage[hidelinks]{hyperref}
\usepackage{titlesec}
\usepackage{tabu}
\usepackage{pifont}
% commented by NGE \usepackage{glossaries}
% Load the package with the acronym option
%\usepackage[acronym,nomain]{glossaries}
\usepackage[toc]{glossaries}
\usepackage{atbegshi}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% document metadata
\hypersetup{
	pdfauthor={Xavier Devroey},
	pdfsubject={},
	pdftitle={Behavioural model-based testing of software product lines},
	pdfkeywords={model-based testing, software product line engineering, software testing},
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\pretitle{\begin{center}\Huge\bfseries}
\title{Behavioural model-based testing of software product lines}
\posttitle{\par\vskip1em{\normalfont\normalsize\scshape \par\vfill}\end{center}}
\author{Xavier Devroey}
\predate{\vfill\begin{center}\large}

% for croping
\DisemulatePackage{crop} %to allow package 'crop' instead of emulation by 'memoir'
\setstocksize{297mm}{210mm} %a4 paper as base
\settrimmedsize{240mm}{160mm}{*} %use only 24 x 16 area
\usepackage[driver=none,left=1.8cm,top=2cm,right=2.2cm,bottom=2cm]{geometry} %to allow usage of 'crop'
%\usepackage[cam,a4,center]{crop} %load package 'crop' with cropmark
\usepackage[off,a4,center]{crop} %load package 'crop' without cropmarks
\renewcommand{\baselinestretch}{1.05}

%%  increase page size
%%%\addtolength{\topmargin}{-0.4in}
%%%\addtolength{\textheight}{1.4in}

%% my title page inspired from titleTH from Peter Wilson (available at http://mirror.unl.edu/ctan/info/latex-samples/TitlePages/titlepages.pdf)
\newcommand*{\MyTitlePage}{\begingroup
\thispagestyle{empty}
\raggedleft
\vspace*{\baselineskip}

{\textcolor{myblue}{\HUGE Behavioural model-based testing}}\\[.8\baselineskip]
{\textcolor{myblue}{\HUGE of software product lines}}\\[.5\baselineskip]
{\textcolor{myblue}{\Large }}\\[.1\baselineskip]
\textcolor{myblue}{\rule{\linewidth}{.05cm}}\\[.5\baselineskip]

{\LARGE Xavier Devroey}\\[0.130\textheight]

{\small \textbf{\textit{Jury}}\\ \vspace{.2cm} 
\normalsize Dr. Benoit Baudry\\ \color{mygrey}{\small\textit{Inria, Rennes, France}}\\ \vspace*{.1cm}
\normalcolor\normalsize Prof. Myra B. Cohen\\ \color{mygrey}{\small\textit{University of Nebraska-Lincoln, USA }}\\ \vspace*{.1cm}
\normalcolor\normalsize Prof. Vincent Englebert\\ \color{mygrey}{\small\textit{University of Namur, Belgium}}\\ \vspace*{.1cm}
\normalcolor\normalsize Prof. Patrick Heymans\\ \color{mygrey}{\small\textit{University of Namur, Belgium}}\\ \vspace*{.1cm}
\normalcolor\normalsize Dr. Axel Legay\\ \color{mygrey}{\small\textit{University of Namur, Belgium}}\\ \vspace*{.1cm}
\normalcolor\normalsize Dr. Gilles Perrouin\\ \color{mygrey}{\small\textit{University of Namur, Belgium}}\\ \vspace*{.1cm}
\normalcolor\normalsize Prof. Pierre-Yves Schobbens\\ \color{mygrey}{\small\textit{University of Namur, Belgium}}\vfill}\par
\vspace*{1cm}

{\small A thesis submitted in partial fulfilment of the requirements for the\\degree of Doctor of Philosophy in the subject of Computer Science}\par
\vspace*{.5cm}
{\small Supervised by Prof. Pierre-Yves Schobbens and Prof. Patrick Heymans}\par
\vfill

{\begin{flushleft}
\begin{minipage}[c]{.79\textwidth}
\hfill
\raggedleft\small
\color{mygrey}{University of Namur \\ \vspace*{.5\baselineskip} PReCISE Research Center}
\end{minipage}
\begin{minipage}[c]{.20\textwidth}
\hfill\includegraphics[width=1.5cm]{./pics/Unamur-FACInformatique.png}
\end{minipage}
\end{flushleft}}
\endgroup}


%% for chapters
\makeatletter
\newlength\dlf@normtxtw
\setlength\dlf@normtxtw{\textwidth}
\def\myhelvetfont{\def\sfdefault{mdput}}
\newsavebox{\feline@chapter}
\newcommand\feline@chapter@marker[1][4cm]{%
\sbox\feline@chapter{%
\resizebox{!}{#1}{\fboxsep=1pt%
\colorbox{myblue}{\color{white}\bfseries\thechapter}%
}}%
\rotatebox{90}{%
\resizebox{%
\heightof{\usebox{\feline@chapter}}+\depthof{\usebox{\feline@chapter}}}%
{!}{\scshape\so\@chapapp}}\quad%
\raisebox{\depthof{\usebox{\feline@chapter}}}{\usebox{\feline@chapter}}%
}
\newcommand\feline@chm[1][4cm]{%
\sbox\feline@chapter{\feline@chapter@marker[#1]}%
\makebox[0pt][l]{% aka \rlap
\makebox[1cm][r]{\usebox\feline@chapter}%
}}
\makechapterstyle{daleif1}{
\renewcommand\chapnamefont{\normalfont\Large\raggedleft\so}
\renewcommand\chaptitlefont{\normalfont\huge\bfseries\scshape}
\renewcommand\chapternamenum{}
\renewcommand\printchaptername{}
\renewcommand\printchapternum{\null\hfill\feline@chm[2.5cm]\par}
\renewcommand\afterchapternum{\par\vskip\midchapskip}
\renewcommand\printchaptertitle[1]{\chaptitlefont\raggedleft ##1\par}
}
\makeatother
\chapterstyle{daleif1}


%% for page headers and footers
\makeheadfootruleprefix{ruled}{\color{myblue}}{\color{myblue}}
\makeheadrule {ruled}{\textwidth}{\normalrulethickness} % header line
\makeoddhead {ruled} {} {} {\small\itshape\rightmark} % put section name in small italic
%\makeevenfoot{ruled}{\small\colorbox{myblue}{\color{white}\thepage}}{}{} 
%\makeoddfoot{ruled}{}{}{\small\colorbox{myblue}{\color{white}\thepage}}
\makeevenfoot{ruled}{\thepage}{}{} 
\makeoddfoot{ruled}{}{}{\thepage}

\makepagestyle{rulednohead}
\makeheadfootruleprefix{rulednohead}{}{\color{myblue}}
%\makeevenfoot{rulednohead}{\small\colorbox{myblue}{\color{white}\thepage}}{}{} 
%\makeoddfoot{rulednohead}{}{}{\small\colorbox{myblue}{\color{white}\thepage}}
\makeevenfoot{rulednohead}{\thepage}{}{} 
\makeoddfoot{rulednohead}{}{}{\thepage}


\makeatletter % because of \@chapapp
\makepsmarks {ruled}{
	\nouppercaseheads
	\createmark {chapter} {both} {shownumber}{\@chapapp\ }{. \ }
	\createmark {section} {right}{shownumber}{} {. \space }
	\createmark {subsection} {right}{shownumber}{} {. \space }
	%\createmark {subsubsection}{right}{shownumber}{} {. \space }
	\createplainmark {toc} {both} {\contentsname}
	\createplainmark {lof} {both} {\listfigurename}
	\createplainmark {lot} {both} {\listtablename}
	\createplainmark {bib} {both} {\bibname}
	\createplainmark {index} {both} {\indexname}
	\createplainmark {glossary} {both} {\glossaryname}
}


\makeatother
\setsecnumdepth{subsection}
\maxtocdepth{subsection}
\pagestyle{ruled}
\aliaspagestyle{chapter}{rulednohead}

% redefine list-related default options
\setlist{nolistsep}
\renewenvironment{description}{%
\begin{itemize}[font=\bfseries\color{myblue}]%
%\addtolength{\leftmargin}{5cm}
\addtolength{\itemindent}{2cm}
%
}
{%
\end{itemize}%
}

% citing style
%\setcitestyle{open={[},close={]},semicolon,aysep={ },yysep={,}}
%\let\cite\citep

% redefine emph
\makeatletter
\DeclareRobustCommand{\em}{%
  \@nomath\em \if b\expandafter\@car\f@series\@nil
  \normalfont \else \bfseries\color{myblue} \fi}
\makeatother


% styling url like href
\urlstyle{same}

% redefine tt family
\renewcommand*\ttdefault{txtt}

% path to graphics
\graphicspath{{./}{pics/}}  

% itemize and enumerate color
\newcommand{\sbt}{\,\begin{picture}(-1,1)(-1,-3)\circle*{4}\end{picture}\ }
\renewcommand{\labelitemi}{${\color{myblue}\sbt}$}
\renewcommand{\labelenumi}{\color{myblue}(\theenumi)}

% in paragraph enumeration style 
\setdefaultenum{(i)}{(a)}{}{}

% colorize subsubsection
\titleformat{\subsubsection}
{\color{myblue}\normalfont\bfseries}
{\color{myblue}\thesection}{}{}

%Listings default configuration
\lstset{float,
showspaces=false,
showtabs=false,
breaklines=true,
showstringspaces=false,
tabsize=2,
basicstyle=\footnotesize,
numbers=left,
xleftmargin=3em,
frame=lines,
framexleftmargin=2.5em,
escapeinside={(*@}{@*)}}

% Define TVL language
\lstdefinelanguage{TVL}{
  morekeywords={root,group,opt,allOf,oneOf,someOf}, % list of keywords
  morecomment=[s]{/*}{*/}, % s is for start and end delimiter
  morestring=[b]" % defines that strings are enclosed in double quotes
}

% redefine a couple of commands for compatibility reason
\renewcommand\textservicemark{\unskip\nobreak\textsuperscript{\scshape{\scriptsize SM}}\allowbreak\thinspace\ignorespaces}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\todo}[1]{\textcolor{blue}{\textbf{To do: #1}\\}}

% -- New commands --
\newcommand{\eg}{\textit{e.g.,~}}
\newcommand{\Eg}{\textit{E.g.,~}}
\newcommand{\ie}{\textit{i.e.,~}}
\newcommand{\Ie}{\textit{I.e.,~}}
\newcommand{\etal}{\textit{et al.}\xspace}
\newcommand{\etc}{\textit{etc.}\xspace}
\newcommand{\wrt}{\textit{w.r.t.~}}
\newcommand{\cfr}{\textit{cfr.~}}
\newcommand{\Cfr}{\textit{Cfr.~}}
\newcommand{\viz}{\textit{viz.~}}
\newcommand{\aka}{\textit{a.k.a.~}}
\newcommand{\cf}{\textit{cf.~}}
\newcommand{\Cf}{\textit{Cf.~}}

% -- Math elements --
\newcommand{\fts}{\mathit{fts}}
\newcommand{\FTS}{\mathit{FTS}}
\newcommand{\fm}{\mathit{fm}}
\newcommand{\fmm}{\mathit{fmm}}
\newcommand{\lts}{\mathit{lts}}

\newcommand{\trans}{\mathit{trans}}
\newcommand{\Act}{\mathit{Act}}
\newcommand{\CNF}{\mathit{CNF}}

\newcommand{\wProd}{\mathit{prod}}
\newcommand{\wMprod}{\mathit{mprod}}
\newcommand{\wScore}{\mathit{score}}
\newcommand{\wToVisit}{\mathit{toVisit}}
\newcommand{\wPath}{\mathit{path}}
\newcommand{\wSAT}{\mathit{SAT}}
\newcommand{\wCov}{\mathit{cov}}
\newcommand{\wPcov}{\mathit{pcov}}

\newcommand{\wJaccard}{\mathit{jaccard}}
\newcommand{\wHamming}{\mathit{hamming}}
\newcommand{\wDice}{\mathit{dice}}
\newcommand{\wAntidice}{\mathit{antidice}}
\newcommand{\wDiss}{\mathit{diss}}
\newcommand{\wAvg}{\mathit{avg}}

\newcommand{\wCurrent}{\mathit{current}}
\newcommand{\wPrevious}{\mathit{previous}}
\newcommand{\wCost}{\mathit{cost}}
\newcommand{\wCandidate}{\mathit{candidate}}
\newcommand{\wRandom}{\mathit{random}}
\newcommand{\wNext}{\mathit{next}}
\newcommand{\wCopy}{\mathit{copy}}

\newcommand{\wTrace}{\mathit{trace}}
\newcommand{\wTraces}{\mathit{traces}}
\newcommand{\wTransitions}{\mathit{transitions}}
\newcommand{\wTransition}{\mathit{transition}}
\newcommand{\wStates}{\mathit{states}}
\newcommand{\wState}{\mathit{state}}
\newcommand{\wFLabels}{\mathit{fLabels}}

\newcommand{\wPr}{\mathit{Pr}}

\newcommand{\sem}{\ensuremath{[\![}}
\newcommand{\mes}{\ensuremath{]\!]}}

\newcommand{\Sem}[1]{\sem#1\mes}


%-- Math theorems --
\newtheorem{definition}{Definition}
\newtheorem{property}{Property}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\hyphenation{tran-si-tion serve-Soda serve-Tea Tran-sit-ion-Sys-tem Abs-tract-Tran-si-tion-Sys-tem Tran-si-tion-Sys-tem-Ele-ment Fea-tu-red-Tran-si-tion Usa-ge-Mo-del-Tran-si-tion Label-led-Tran-sition-System Fea-tu-red-Tran-sit-ion-System Usage-Mo-del Ab-stract-Tran-si-tion-System Tran-si-tion-Sys-tem-Ele-ment-Facto-ry Fea-tu-red-Tran-si-tion-Sy-stem-De-fi-ni-tion Test-Set-De-fi-ni-tion Schob-bens}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\makeglossaries

%%  custom  macros %%
\input{./src/common_tex_rsc/colors_macros.tex}
%\input{./src/common_tex_rsc/commands_macros.tex}
%\input{./src/common_tex_rsc/code_macros.tex}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% acronym list %%
%\input{./src/acronyms.tex}

%% glossary entries %%
\input{src/glossary}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\MyTitlePage

%%Front matter%%
\frontmatter 

%%Clear header and footer for the beginning of the front matter
%\pagestyle{scrheadings}
%\clearscrheadfoot

%%Text for the PUN%%
\thispagestyle{empty}
\input{src/preamble_tex_rsc/PUN}

% Citation
\cleardoublepage
\thispagestyle{empty}
\input{src/citation}

%%Abstract%%
\chapter*{Abstract}
\input{src/abstract}

\chapter*{R\'esum\'e}
\input{src/resume}

%% Acknowledgments %%
\chapter*{Acknowledgements}
\input{src/acknowledgements}

%%Table of contents%%
\cleardoublepage
\setcounter{tocdepth}{1}%Depth=2 : Chapter, Section & Sub-section
\tableofcontents

%Add the list of figures
\cleardoublepage
%\addcontentsline{toc}{chapter}{\listfigurename}
\listoffigures

%Add the list of tables
\cleardoublepage
%\addcontentsline{toc}{chapter}{\listtablename}
\listoftables

\renewcommand{\memchapinfo}[4]{%
  \addtocontents{lol}{\protect\addvspace{10pt}}}


\chapter{Preface}
\input{src/preface}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%% Main matter %%
\mainmatter
\settocdepth{section}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Background}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\label{part:background}

\chapter{Software product lines}
\label{chap:vis}
\input{src/vis}

%\chapter{Behavioural model based testing}
%\label{chap:mbt}
%\input{src/mbt}

\chapter{Software and software product lines testing}
\label{chap:vis-testing}
\input{src/vis-testing}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Testing Framework}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\label{part:framework}

\chapter{Framework overview}
\label{chap:frameworkdescription}
\input{src/frameworkdescription}

\chapter{Case studies}
\label{chap:casestudies}
\input{src/casestudies}

\chapter{Behavioural test case selection}
\label{chap:coverage}
\input{src/coverage}

\chapter{Mutation analysis}
\label{chap:mutation}
\input{src/mutation}

\chapter{Empirical assessment}
\label{chap:assessment}
\input{src/assessment}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Implementation}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\label{part:implem}

\chapter{Variability Intensive Behavioural teSting framework}
\chaptermark{VIBeS}
\label{chap:vibes}
\input{src/vibes}

\chapter{Test case concretization using AbsCon}
\chaptermark{AbsCon}
\label{chap:concretization}
\input{src/concretization}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\part{Postface}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\label{part:postface}

\chapter{Conclusion and future research directions}
\label{chap:conclusion}
\input{src/conclusion}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\appendix

%\chapter{Yet Another Model Inference tool}
%\chaptermark{YAMI}
%\label{chap:yami}
%\input{src/yami}

\chapter{Mutation operators}
\label{apdx:fmm:operators}
\input{src/mutationoperators}

\chapter{Mutants execution time results}
\label{apdx:fmm:exectime}
\input{src/fmmexecutiontime}

\chapter{Mutants equivalence analysis results}
\label{apdx:fmm:equivalence}
\input{src/fmmequivalence}

\backmatter

%\bibliographystyle{apalike}
\bibliographystyle{plain}
\bibliography{../These/library}

%\glsaddall
%\glossarystyle{altlist}
\printglossary

%\printindex


\end{document}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%